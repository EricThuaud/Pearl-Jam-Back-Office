<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
	<changeSet author="admin (generated)" id="1589444862844-1">
        <createSequence sequenceName="address_seq"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-2">
        <createSequence sequenceName="comment_seq"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-3">
        <createSequence sequenceName="contact_attempt_seq"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-4">
        <createSequence sequenceName="contact_outcome_seq"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-5">
        <createSequence sequenceName="sampe_identifier_seq"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-6">
        <createSequence sequenceName="state_seq"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-7">
        <createTable tableName="address">
            <column name="dtype" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="l1" type="VARCHAR(255)"/>
            <column name="l2" type="VARCHAR(255)"/>
            <column name="l3" type="VARCHAR(255)"/>
            <column name="l4" type="VARCHAR(255)"/>
            <column name="l5" type="VARCHAR(255)"/>
            <column name="l6" type="VARCHAR(255)"/>
            <column name="l7" type="VARCHAR(255)"/>
            <column name="geographical_location_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-8">
        <createTable tableName="campaign">
            <column name="id" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="collection_end_date" type="BIGINT"/>
            <column name="collection_start_date" type="BIGINT"/>
            <column name="label" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-9">
        <createTable tableName="comment">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="type" type="VARCHAR(11)"/>
            <column name="value" type="VARCHAR(255)"/>
            <column name="survey_unit_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-10">
        <createTable tableName="contact_attempt">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="BIGINT"/>
            <column name="status" type="VARCHAR(255)"/>
            <column name="survey_unit_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-11">
        <createTable tableName="contact_outcome">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="BIGINT"/>
            <column name="total_number_of_contact_attempts" type="INT"/>
            <column name="type" type="VARCHAR(255)"/>
            <column name="survey_unit_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-12">
        <createTable tableName="geographical_location">
            <column name="id" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="label" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-13">
        <createTable tableName="interviewer">
            <column name="id" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="phone_number" type="VARCHAR(255)"/>
            <column name="organization_unit_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-14">
        <createTable tableName="organization_unit">
            <column name="id" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="label" type="VARCHAR(255)"/>
            <column name="type" type="VARCHAR(8)"/>
            <column name="organization_unit_parent_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-15">
        <createTable tableName="preference">
            <column name="id_user" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="id_campaign" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-16">
        <createTable tableName="sample_identifier">
            <column name="dtype" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="autre" type="VARCHAR(50)"/>
            <column name="bs" type="INT"/>
            <column name="ec" type="VARCHAR(1)"/>
            <column name="le" type="INT"/>
            <column name="nograp" type="VARCHAR(50)"/>
            <column name="noi" type="INT"/>
            <column name="nole" type="INT"/>
            <column name="nolog" type="INT"/>
            <column name="numfa" type="INT"/>
            <column name="rges" type="INT"/>
            <column name="ssech" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-17">
        <createTable tableName="state">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date" type="BIGINT"/>
            <column name="type" type="VARCHAR(3)"/>
            <column name="survey_unit_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-18">
        <createTable tableName="survey_unit">
            <column name="id" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="priority" type="BOOLEAN"/>
            <column name="address_id" type="BIGINT"/>
            <column name="campaign_id" type="VARCHAR(50)"/>
            <column name="interviewer_id" type="VARCHAR(50)"/>
            <column name="sample_identifier_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-19">
        <createTable tableName="survey_unit_phone_numbers">
            <column name="survey_unit_id" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="phone_numbers" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-20">
        <createTable tableName="user">
            <column name="id" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="organization_unit_id" type="VARCHAR(50)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-21">
        <createTable tableName="visibility">
            <column name="campaign_id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="organization_unit_id" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="collection_end_date" type="BIGINT"/>
            <column name="collection_start_date" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-22">
        <addPrimaryKey columnNames="id" constraintName="addressPK" tableName="address"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-23">
        <addPrimaryKey columnNames="id" constraintName="campaignPK" tableName="campaign"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-24">
        <addPrimaryKey columnNames="id" constraintName="commentPK" tableName="comment"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-25">
        <addPrimaryKey columnNames="id" constraintName="contact_attemptPK" tableName="contact_attempt"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-26">
        <addPrimaryKey columnNames="id" constraintName="contact_outcomePK" tableName="contact_outcome"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-27">
        <addPrimaryKey columnNames="id" constraintName="geographical_locationPK" tableName="geographical_location"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-28">
        <addPrimaryKey columnNames="id" constraintName="interviewerPK" tableName="interviewer"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-29">
        <addPrimaryKey columnNames="id" constraintName="organization_unitPK" tableName="organization_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-30">
        <addPrimaryKey columnNames="id" constraintName="sample_identifierPK" tableName="sample_identifier"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-31">
        <addPrimaryKey columnNames="id" constraintName="statePK" tableName="state"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-32">
        <addPrimaryKey columnNames="id" constraintName="survey_unitPK" tableName="survey_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-33">
        <addPrimaryKey columnNames="id" constraintName="userPK" tableName="user"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-34">
        <addPrimaryKey columnNames="campaign_id, organization_unit_id" constraintName="visibilityPK" tableName="visibility"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-35">
        <addForeignKeyConstraint baseColumnNames="organization_unit_id" baseTableName="user" constraintName="FK15k0inwfsiqjox8hhpcuqagac" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="organization_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-36">
        <addForeignKeyConstraint baseColumnNames="survey_unit_id" baseTableName="survey_unit_phone_numbers" constraintName="FK4ytqabrh31vpuqu7725qgvv0k" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="survey_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-37">
        <addForeignKeyConstraint baseColumnNames="survey_unit_id" baseTableName="contact_outcome" constraintName="FK5m8uar3ys6o0jueaob678ut8l" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="survey_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-38">
        <addForeignKeyConstraint baseColumnNames="survey_unit_id" baseTableName="contact_attempt" constraintName="FK741l2mfs45vi309cvu1hngtpc" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="survey_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-39">
        <addForeignKeyConstraint baseColumnNames="campaign_id" baseTableName="survey_unit" constraintName="FKceojdjumb845c95ls1gb4lh98" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="campaign"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-40">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="survey_unit" constraintName="FKcfmcr0ny1voq8kc0q5qpa0u7u" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="address"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-41">
        <addForeignKeyConstraint baseColumnNames="sample_identifier_id" baseTableName="survey_unit" constraintName="FKdel3e5om67ixieu4cl6oi442t" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="sample_identifier"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-42">
        <addForeignKeyConstraint baseColumnNames="id_campaign" baseTableName="preference" constraintName="FKh1r8okfd9tdx34drbhxfkbok0" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="campaign"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-43">
        <addForeignKeyConstraint baseColumnNames="organization_unit_parent_id" baseTableName="organization_unit" constraintName="FKi3yifw8opky684b61d8uqp2tv" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="organization_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-44">
        <addForeignKeyConstraint baseColumnNames="geographical_location_id" baseTableName="address" constraintName="FKkde8gpc211k0js7ski77m4q7h" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="geographical_location"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-45">
        <addForeignKeyConstraint baseColumnNames="organization_unit_id" baseTableName="interviewer" constraintName="FKkja2mrmqcmteo44fq53m5ktst" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="organization_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-46">
        <addForeignKeyConstraint baseColumnNames="interviewer_id" baseTableName="survey_unit" constraintName="FKm4vvylnwl7bywkm1lr01o216e" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="interviewer"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-47">
        <addForeignKeyConstraint baseColumnNames="campaign_id" baseTableName="visibility" constraintName="FKmsqdmu3ek09g1p6da7ecf2bb" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="campaign"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-48">
        <addForeignKeyConstraint baseColumnNames="organization_unit_id" baseTableName="visibility" constraintName="FKoi44gi2u13hl608iqe2uekayj" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="organization_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-49">
        <addForeignKeyConstraint baseColumnNames="id_user" baseTableName="preference" constraintName="FKoww9dpbng58b4c25enfi45kl4" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-50">
        <addForeignKeyConstraint baseColumnNames="survey_unit_id" baseTableName="comment" constraintName="FKt3h4kiayxsaln3l0xol5tpbvg" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="survey_unit"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1589444862844-51">
        <addForeignKeyConstraint baseColumnNames="survey_unit_id" baseTableName="state" constraintName="FKtkvilge16fs9ik6fq4r1fy214" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="survey_unit"/>
    </changeSet>
</databaseChangeLog>
